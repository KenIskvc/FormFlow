<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="FormFlow.MobileApp.AnalysisPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Analyses">

    <CollectionView
    x:Name="AnalysisCollection"
    Margin="12"
    SelectionMode="Single">

        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Frame
                Padding="12"
                Margin="6"
                CornerRadius="16"
                BorderColor="#CCCCCC"
                HasShadow="False">

                    <!-- Hover / Selection States -->
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">

                            <VisualState Name="Normal">
                                <VisualState.Setters>
                                    <Setter Property="BackgroundColor" Value="White" />
                                </VisualState.Setters>
                            </VisualState>

                            <!-- Hover (Desktop only) -->
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="BackgroundColor" Value="#F2F2F2" />
                                </VisualState.Setters>
                            </VisualState>

                            <!-- Selection -->
                            <VisualState Name="Selected">
                                <VisualState.Setters>
                                    <Setter Property="BackgroundColor" Value="#E6F0FF" />
                                    <Setter Property="BorderColor" Value="#3366FF" />
                                </VisualState.Setters>
                            </VisualState>

                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>

                    <!-- Inhalt -->
                    <VerticalStackLayout
                    Spacing="6"
                    HorizontalOptions="Center"
                    VerticalOptions="Center">

                        <Label
                        Text="{Binding Title}"
                        FontSize="16"
                        FontAttributes="Bold"
                        HorizontalTextAlignment="Center" />

                        <Label
                        Text="{Binding Date}"
                        FontSize="12"
                        TextColor="Gray"
                        HorizontalTextAlignment="Center" />

                        <Label
                        Text="{Binding Status}"
                        FontAttributes="Bold"
                        TextColor="{Binding StatusColor}"
                        HorizontalTextAlignment="Center" />

                        <Label
                        Text="{Binding ErrorCountText}"
                        FontSize="13"
                        TextColor="DarkRed"
                        HorizontalTextAlignment="Center" />

                    </VerticalStackLayout>
                </Frame>
            </DataTemplate>
        </CollectionView.ItemTemplate>

    </CollectionView>

</ContentPage>
