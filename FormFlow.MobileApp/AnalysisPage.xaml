<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="FormFlow.MobileApp.AnalysisPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Analyses">

    <CollectionView
    x:Name="AnalysisCollection"
    Margin="12"
    SelectionMode="Single">

        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Frame
                Padding="12"
                Margin="6"
                CornerRadius="16"
                BorderColor="#CCCCCC"
                HasShadow="False"
                HeightRequest="140">

                    <!-- Hover / Selection States -->
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">

                            <VisualState Name="Normal">
                                <VisualState.Setters>
                                    <Setter Property="BackgroundColor" Value="#1E1E1E" /> 
                                    <Setter Property="BorderColor" Value="#3366FF" />
                                </VisualState.Setters>
                            </VisualState>

                            <!-- Hover (Desktop only) -->
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="BackgroundColor" Value="#2A2A2A" />
                                </VisualState.Setters>
                            </VisualState>

                            <!-- Selection -->
                            <VisualState Name="Selected">
                                <VisualState.Setters>
                                    <Setter Property="BackgroundColor" Value="#1F2A44" />
                                    <Setter Property="BorderColor" Value="#4C7BFF" />
                                </VisualState.Setters>
                            </VisualState>

                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>

                    <!-- Inhalt -->
                    <VerticalStackLayout
                    Spacing="6"
                    HorizontalOptions="Fill"
                    VerticalOptions="Start">

                        <Label
                            Text="{Binding VideoTitle}"
                            FontAttributes="Bold"
                            FontSize="14"
                            LineBreakMode="TailTruncation"
                            MaxLines="2"
                            HorizontalTextAlignment="Start" />
                        <Label Text="{Binding Date}"/>
                        <Label Text="{Binding Status}" TextColor="{Binding StatusColor}" />
                        <Label Text="{Binding ErrorCountText}" />


                    </VerticalStackLayout>
                </Frame>
            </DataTemplate>
        </CollectionView.ItemTemplate>

    </CollectionView>

</ContentPage>
